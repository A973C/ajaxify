String.prototype.iO=function(e){return this.toString().indexOf(e)+1};(function(e){e.fn.hoverIntent=function(t,n,r){var i={interval:100,sensitivity:7,timeout:0};if(typeof t==="object"){i=e.extend(i,t)}else if(e.isFunction(n)){i=e.extend(i,{over:t,out:n,selector:r})}else{i=e.extend(i,{over:t,out:t,selector:n})}var s,o,u,a;var f=function(e){s=e.pageX;o=e.pageY};var l=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(u-s)+Math.abs(a-o)<i.sensitivity){e(n).off("mousemove.hoverIntent",f);n.hoverIntent_s=1;return i.over.apply(n,[t])}else{u=s;a=o;n.hoverIntent_t=setTimeout(function(){l(t,n)},i.interval)}};var c=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=0;return i.out.apply(t,[e])};var h=function(t){var n=jQuery.extend({},t);var r=this;if(r.hoverIntent_t){r.hoverIntent_t=clearTimeout(r.hoverIntent_t)}if(t.type=="mouseenter"){u=n.pageX;a=n.pageY;e(r).on("mousemove.hoverIntent",f);if(r.hoverIntent_s!=1){r.hoverIntent_t=setTimeout(function(){l(n,r)},i.interval)}}else{e(r).off("mousemove.hoverIntent",f);if(r.hoverIntent_s==1){r.hoverIntent_t=setTimeout(function(){c(n,r)},i.timeout)}}};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},i.selector)}})(jQuery);var l=0,pass=0,api=window.history&&window.history.pushState&&window.history.replaceState;var docType=/<\!DOCTYPE[^>]*>/i;var tagso=/<(html|head|body|title|meta|script|link)([\s\>])/gi;var tagsc=/<\/(html|head|body|title|meta|script|link)\>/gi;var div12='<div class="ajy-$1"$2';var linki='<link rel="stylesheet" type="text/css" href="*" />',scri='<script type="text/javascript" src="*" />';var linkr='link[href*="!"]',scrr='script[src*="!"]';(function(e){var t=function(t){var n=window.console;var r=e.extend({verbosity:0},t);var i=r["verbosity"];this.a=function(e){l<i&&n&&n.log(e)}};e.log=function(n,r){if(!e.log.o)e.log.o=new t(r);return e.log.o.a(n)}})(jQuery);(function(e){var t=function(){var t=false;this.a=function(n){if(!n){return t}if(typeof n==="string"){return t=e.pages(e.memory(n))}if(typeof n==="object"){return t=n}}};e.cache=function(n){if(!e.cache.o)e.cache.o=new t;return e.cache.o.a(n)}})(jQuery);(function(e){var t=function(t){var n=false;var i=e.extend({memoryoff:false},t);var s=i["memoryoff"];this.a=function(e){n=s;if(!e||n==true)return false;if(n==false)return e;if(n.iO(", ")){n=n.split(", ");r=e;if(n.iO(e))return false}return e==n?false:e}};e.memory=function(n,r){if(!e.memory.o)e.memory.o=new t(r);return e.memory.o.a(n)}})(jQuery);(function(e){var t=function(){var e=[];this.a=function(t){if(typeof t==="string"){for(var n=0;n<e.length;n++)if(e[n][0]==t)return e[n][1]}if(typeof t==="object"){e.push(t)}if(typeof t==="boolean"){return false}}};e.pages=function(n){if(!e.pages.o)e.pages.o=new t;return e.pages.o.a(n)}})(jQuery);(function($){var GetPage=function(){function _lSel(e,t){pass++;_lDivs(t);$.scripts(e);$.scripts("a");return $.scripts("c")}function _lPage(e,t,n,r){if(e.iO("#"))e=e.split("#")[0];if(n||!$.cache(e))return _lAjax(e,t,n,r);t&&t()}function _lDivs(e){if($.cache())_all(e,"fn(*)",function(e){e.html($.cache().find("#"+e.attr("id")).html())})}function _all($t,t,fn){$t.each(function(){t=t.split("*").join("$(this)");t+=";";eval(t)})}function _lAjax(e,t,n,r){var i=$.ajax({url:e,type:n?"POST":"GET",data:n?n.data:null,success:function(n){if(!n||!_isHtml(i)){if(!r)location=e}$.cache($(_parseHTML(n)));$.pages([e,$.cache()]);t&&t()}})}function _isHtml(e){var t;return t=e.getResponseHeader("Content-Type"),t&&(t.iO("text/html")||t.iO("text/xml"))}function _parseHTML(e){return $.trim(_replD(e))}function _replD(e){return String(e).replace(docType,"").replace(tagso,div12).replace(tagsc,"</div>")}this.a=function(e,t,n){if(!e){return $.cache()}if(e.iO("/")){return _lPage(e,t,n)}if(e==="+"){return _lPage(t,n,false,true)}if(e==="-"){return _lSel(t,n)}return $.cache().find(".ajy-"+e)};};$.getPage=function(e,t,n){if(!$.getPage.o)$.getPage.o=new GetPage;return $.getPage.o.a(e,t,n)}})(jQuery);(function(e){var t=function(t){function o(t){if(!api||!i)return false;u(t);e.scripts("i",t);e.cache(0,t);e.memory(0,t);return true}function u(t){if(t.outjs)e.log(jsout)}var n=e.extend({cb:0,pluginon:true,fn:e.getPage},t);var r=n["cb"],i=n["pluginon"],s=n["fn"];this.a=function(t){e(function(){if(o(n)){t.pronto(n);e.getPage(location.href,e.scripts)}});};};e.fn.ajaxify=function(n){var r=e(this);if(!e.fn.ajaxify.o)e.fn.ajaxify.o=new t(n);return e.fn.ajaxify.o.a(r)}})(jQuery);(function(e){var t=function(t){function a(t){t.each(function(){var t=e(this).html();if(!t.iO(").ajaxify(")&&(o||e(this).hasClass("ajaxy")||l(t)))f(t);r=true})}function f(t){try{e.globalEval(t)}catch(n){alert(n)}}function l(e){var t=u;if(t){t=t.split(", ");for(var n=0;n<t.length;n++)if(e.iO(t[n]))return true}}function c(e,t,n){t.c.addAll(e,"href",n);t.s.addAll(e,"src",n)}var n=e();var i=e.extend({canonical:true,inline:true,inlinehints:false},t);var s=i["canonical"],o=i["inline"],u=i["inlinehints"];this.a=function(t){if(t==="i"){return true}if(t==="a"){return a(n.t)}if(t==="c"){if(s&&n.can)return n.can.attr("href");else return false}e.detScripts(n);c(t,n,i)};};e.scripts=function(n,r){if(!e.scripts.o)e.scripts.o=new t(r);return e.scripts.o.a(n)}})(jQuery);(function(e){var t=function(){function i(t,n){return e(t).filter(function(){return e(this).attr("rel").iO(n)})}var t,n,r;this.a=function(s){t=e.getPage("head");n=t.find(".ajy-link");r=e.getPage("script");s.c=i(n,"stylesheet");s.can=i(n,"canonical");s.s=r.filter(function(){return e(this).attr("src")});s.t=r.filter(function(){return!e(this).attr("src")})};};e.detScripts=function(n){if(!e.detScripts.o)e.detScripts.o=new t;return e.detScripts.o.a(n)}})(jQuery);(function(e){var t=function(t){function l(t,n){if(f)return false;t.each(function(){p(e(this)[0],n)});return true}function c(t,n){t.each(function(){if(e(this).attr("data-class")=="always"){p(e(this).attr(n),n);e(this).remove()}})}function h(e,t){for(var n=0;n<e.length;n++)if(e[n][1]==0)p(e[n][0],t)}function p(t,n){e("head").append((n=="href"?linki:scri).replace("*",t))}function d(t,n,r,i){var s;t.each(function(){s=[e(this).attr(i),0];n.push(s);if(!pass)r.push(s)})}function v(e,t){for(var n=0;n<e.length;n++){e[n][1]=2;if(m(e[n][0],t))e[n][1]=1}}function m(e,t){if(e)for(var n=0;n<t.length;n++)if(t[n][0]==e){t[n][1]=1;return true}}function g(e,t){for(var n=0;n<e.length;n++)if(e[n][1]==2&&e[n][0])y(e[n][0],t)}function y(t,n){e((n=="href"?linkr:scrr).replace("!",t)).remove()}var n,r,i=[],s=[],o=[],u=[];var a=e.extend({deltas:true},t);var f=a["deltas"];this.a=function(e,t,a){if(a=="href"){n=i;r=s}else{n=o;r=u}if(l(e,a))return true;if(pass)c(e,a);if(t)return h(r,a);r=[];d(e,r,n,a);if(pass){v(n,r);g(n,a);h(r,a);n=r.slice()}if(a=="href"){i=n;s=r}else{o=n;u=r}};};e.fn.addAll=function(n,r,i){var s=e(this);if(!e.fn.addAll.o)e.fn.addAll.o=new t(i);return e.fn.addAll.o.a(s,n,r)}})(jQuery);(function(e){var t=function(t){function m(){a.$body=e("body");r=window.location.href;C();n.on("popstate",k);if(p)e(f).hoverIntent(y,g);a.$body.on("click.pronto",f,x);S()}function g(){}function y(t){s=null;var n=t.currentTarget;if(M(n))return false;if(r==n.href)return false;var i=function(){if(d===true)return false;if(!b(n)&&(d===false||!e(n).closest(d).length))x(t,true)};v("+",n.href,i)}function b(t){var n=false;o.each(function(){try{if(e(t).parents("#"+e(this).attr("id")).length>0)n=true}catch(r){alert(r)}});return n}function w(e,t){if(e.indexOf("?")>0){e=e.substring(0,e.indexOf("?"))}return e+"?"+t}function E(){var t=u.serialize();var n=e("input[name][type=submit]",u);if(n.length==0)return t;var r=n.attr("name")+"="+n.val();if(t.length>0){t+="&"+r}else{t=r}return t}function S(){if(!h)return false;e("form").submit(function(t){u=e(t.target);if(!u.is("form")){u=u.filter("input[type=submit]").parents("form:first");if(u.length==0){return true}}var i=E();var t="get",o=u.attr("method");if(o.length>0&&o.toLowerCase()=="post")t="post";var a,f=u.attr("action");if(f!=null&&f.length>0)a=f;else a=r;if(t=="get")a=w(a,i);else{s={};s.data=i}n.trigger("pronto.submit",a);T(a);return false})}function x(e,t){var n=e.currentTarget;s=null;if(_(e)||M(n))return;if(D(n)){C();return true}e.preventDefault();e.stopPropagation();if(r==n.href){C()}else T(n.href,t)}function T(e,t){n.trigger("pronto.request");var r=function(){N(e,true,t)};v(e,r,s)}function N(e,t,n){if(i!==null){clearTimeout(i);i=null}i=setTimeout(function(){A(e,t,n)},c)}function C(){history.replaceState({url:r},"state-"+r,r)}function k(e){var t=e.originalEvent.state;if(t!==null&&t.url!==r){n.trigger("pronto.request");var i=function(){N(t.url,false,false)};v(t.url,i)}}function L(e,t){r=e;if(t){history.pushState({url:r},"state-"+r,r)}else{C()}}function A(t,r,i){var u;n.trigger("pronto.load");O(t);C();e("title").html(v("title").html());u=v("-",s,o);if(u&&u!=t&&!t.iO("#")&&!t.iO("?"))t=u;S();if(t.iO("#")&&!i){e("html, body").animate({scrollTop:e("#"+t.split("#")[1]).offset().top},500)}L(t,r);n.trigger("pronto.render")}function O(e){if(typeof window.ga!=="undefined")window.ga("send","pageview",e)}function M(e){return window.location.protocol!==e.protocol||window.location.host!==e.host}function _(e){return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey}function D(e){return e.hash&&e.href.replace(e.hash,"")===window.location.href.replace(location.hash,"")||e.href===window.location.href+"#"}var n=e(window),r="",i=null,s=null,o,u;var a=e.extend({selector:"a:not(.no-ajaxy)",requestKey:"pronto",requestDelay:0,forms:true,turbo:true,previewoff:true,fn:false},t);var f=a["selector"],l=a["requestKey"],c=a["requestDelay"],h=a["forms"],p=a["turbo"],d=a["previewoff"],v=a["fn"];this.a=function(e){o=e;m();return e};};e.fn.pronto=function(n){var r=e(this);if(!e.fn.pronto.o)e.fn.pronto.o=new t(n);return e.fn.pronto.o.a(r)}})(jQuery);jQuery.log("Entering ajaxify...",{verbosity:8})
